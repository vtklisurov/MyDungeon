<!DOCTYPE html>
<head>
  <style>
    input, label {
      display:block;
    }
  </style>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="public/css/login.css">
  <link rel="stylesheet" type="text/css" href="public/css/buttons.css">
  <link rel="stylesheet" type="text/css" href="public/css/newAddress.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script>

  $(document).ready(function(){
     $.post("islogged", function (status){
      if (status.user===undefined){
         document.getElementById("content").innerHTML = 'Please login before adding an address<button onclick="window.location.href='/'">Home</button>';
       }
     });
  })

  function submitForm(){
    $.post("/newAddr", $('#addressform').serialize(),function(status){
      window.location.href="/";
    })
  }
  </script>
</head>
<body>
  <div id="content">
    <form autocomplete="off" id="addressform" method="POST" >
      <h1>Enter address information</h1>
      <div>
        <label for="country">Country:</label>
        <input class = "inputField" type="text" id="country" name="country" required/><br>
      </div>
      <div>
        <label for="postal">Postal code:</label>
        <input class = "inputField" type="text" id="postal" name="postal" required/><br>
      </div>
      <div>
        <label for="city">City:</label>
        <input class = "inputField" type="text" id="fname" name="city" required/><br>
      </div>
      <div>
        <label for="straddr">Street address:</label>
        <input class = "inputField" type="text" id="straddr" name="straddr" required/><br>
      </div>
      <div id="add"><input class = "button" type="button" style="display:inline" id="submit" value="Add address" onclick="submitForm(false)" /></div>
    </form>
  </div>
</body>
